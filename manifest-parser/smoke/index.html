<style>
  body, pre {
    font-family: sans-serif;
  }
</style>

<pre id="output"></pre>

<script type="module">
  import {ManifestAst} from '../build/manifest-ast.js';
  const {output} = window;
  const go = async () => {
    const path = 'http://localhost/projects/arcs/arcs/particles/Dataflow/OverviewAction.arcs';
    const items = await ManifestAst.load(path, {filename: path});
    output.innerText = JSON.stringify(items, (k,v) => k === 'location' ? undefined : v, '  ');
    //
    const ast = new ManifestAst(items);
    console.log(`Ast has ${ast.recipes.length} recipe(s)`);
    console.log(`Ast has ${ast.stores.length} store(s)`);
  };
  go();
</script>
